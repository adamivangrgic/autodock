<html>

<head>
    <title>Dashboard</title>
    <link href="{{ url_for('static', path='/css/styles.css') }}" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
</head>

<body>
    <div class="container">
    {% for name, repo in content.items() %}
        <div class="repo">
            <div class="element-row">
                <h2>{{ name }}</h2>
                <span>{{ repo['inspect'][0]['state']['status'] }}</span>
            </div>
            <div class="element-row">
                <button onclick="apiCall('/api/repo/check', {'name': '{{ name }}'})">Check repo</button>
                <button onclick="apiCall('/api/repo/clone', {'name': '{{ name }}'})">Clone</button>
                <button onclick="apiCall('/api/repo/pull', {'name': '{{ name }}'})">Pull</button>
                <button onclick="apiCall('/api/repo/build', {'name': '{{ name }}'})">Build</button>
                <button onclick="apiCall('/api/repo/deploy', {'name': '{{ name }}'})">Deploy</button>
            </div>
        </div>
    {% endfor %}
    </div>
</body>

<script src="{{ url_for('static', path='/scripts/script.js') }}"></script>

</html>