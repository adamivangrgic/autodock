<html>

<head>
    <title>Dashboard</title>
    <link href="{{ url_for('static', path='/css/styles.css') }}" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
</head>

<body>
    <div class="container">
    {% for name, repo in content.items() %}
        <div class="repo">
            <div class="list-row">
                <a>{{ name }}</a>
                <a>{{ repo['inspect'][0]['State']['Status'] }}</a>
                <a>{{ repo['inspect'][0]['Created'] }}</a>
                <div>
                {% for inner, outer in repo['inspect'][0]['NetworkSettings']['Ports'].items() %}
                    <a href="{{ HOST_ADDRESS }}:{{ outer[0]['HostPort'] }}">{{ outer[0]['HostPort'] }} : {{ inner }}</a>
                {% endfor %}
                </div>
            </div>
            <div class="button-row">
                <button onclick="apiCall('/api/repo/check', {'name': '{{ name }}'})">Check repo</button>
                <button onclick="apiCall('/api/repo/clone', {'name': '{{ name }}'})">Clone</button>
                <button onclick="apiCall('/api/repo/pull', {'name': '{{ name }}'})">Pull</button>
                <button onclick="apiCall('/api/repo/build', {'name': '{{ name }}'})">Build</button>
                <button onclick="apiCall('/api/repo/deploy', {'name': '{{ name }}'})">Deploy</button>
            </div>
        </div>
    {% endfor %}
    </div>
</body>

<script src="{{ url_for('static', path='/scripts/script.js') }}"></script>

</html>